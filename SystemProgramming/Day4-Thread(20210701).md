# 2021-07-01

# thread
thread란?

-> 프로세스 내에서 실제로 작업을 수행하는 주체를 의미함, 모든 프로세스에는 한 개 이상의 스레드가 존재하여 작업을 수행함    
muti thread: 하나의 프로세스 내에서 둘 이상의 스레드가 동시에 작업을 수행하는 것을 의미     

#### <멀티스레드와 멀티프로세스의 차이점>     
멀티 프로세스는 여러개의 CPU를 사용하여 여러 프로세스를 동시에 수행하는 것을 의미     
멀티 스레드는 하나의 프로세스 내에서 둘 이상의 스레드가 동시에 작업을 수행하는 것

pthread 함수 헤더파일: **#include <pthread.h>**    
컴파일할때는 반드시 gcc pthread.c -o pthread **-lpthread**를 해주어야함

# pthread_create()
int pthread_create(pthread_t *thread, const pthread_attr_t *attr, void*(* start_routine)(void*),void * arg);

pthread를 생성하는 함수이다.
-첫번째 매개변수인 *thread는 스레드가 성공적으로 생성되었을 때 생성된 스레드를 식별하기 위해서 사용되는 스레드 식별자이다.      
-두번째 매개변수인 *attr은 스레드의 특성(속성)을 지정하기 위해서 사용하며, 기본 스레드의 특성을 이용하고자 할 경우에는 NULL을 사용한다.      
-세번째 매개변수인 start_routine은 스레드에서 실행할 함수이다.       
-네번째 매개변수인 arg는 start_routine함수에 넘겨지는 파라미터이다.  

**!오늘의 골칫거리!**     
pthread_create 함수에서 void *로 thread 함수로 넘겨주는데 void *로 넘겨준 아이를 int 값으로 바꿔줘야 했다는 점.    
```
void *
thread_func(void * ns){
  int conn = *(int *) ns;
  }
  ```

##### void * (void 포인터) #####     
void 포인터는 자료형이 정해지지 않았으므로 어떤 자료형으로 된 포인터든 모두 저장할 수 있다.--> 값을 가져오거나 저장할 크기도 정해지지 않음     

# TIF
-디버깅을 하는데 꽤 오랜 시간이 걸렸는데 중간중간에 printf()를 하여 어디부터 잘못되었는지 찾는 방법을 체화하였고 코드를 모두 이해하며 실행하는 것의 중요성을 알게 되었다.      
-함수의 각 파라미터들이 정확히 어떤 의미를 가지고 역할을 하는 것인지 어느 부분으로 넘어가서 어떻게 사용되는지를 정확하게 파악하고 있어야한다.     
-실제로 프로그래밍을 해보니 촘촘하지 않았던 나의 머릿속 지식들이 아주 큰 맹점이 되었다. 공부를 할 때는 꼼꼼히 정확하게 하는 습관을 들여야하며 시간을 많이 투자해야한다는 생각이 들었다.  

